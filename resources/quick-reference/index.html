


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>Quick Reference - Trebla Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="blue" data-md-color-accent="teal">
  
    
      <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Trebla Documentation" class="md-header-nav__button md-logo" aria-label="Trebla Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.8 20c-.4 1.2-1.5 2-2.8 2H5c-1.7 0-3-1.3-3-3v-1h12.2c.4 1.2 1.5 2 2.8 2h.8M19 2c1.7 0 3 1.3 3 3v1h-2V5c0-.6-.4-1-1-1s-1 .4-1 1v13h-1c-.6 0-1-.4-1-1v-1H5V5c0-1.7 1.3-3 3-3h11M8 6v2h7V6H8m0 4v2h6v-2H8z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Trebla Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Quick Reference
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/qwewqa/trebla/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../guides/server-setup/" class="md-tabs__link">
          Guides
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="./" class="md-tabs__link md-tabs__link--active">
          Reference
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Trebla Documentation" class="md-nav__button md-logo" aria-label="Trebla Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.8 20c-.4 1.2-1.5 2-2.8 2H5c-1.7 0-3-1.3-3-3v-1h12.2c.4 1.2 1.5 2 2.8 2h.8M19 2c1.7 0 3 1.3 3 3v1h-2V5c0-.6-.4-1-1-1s-1 .4-1 1v13h-1c-.6 0-1-.4-1-1v-1H5V5c0-1.7 1.3-3 3-3h11M8 6v2h7V6H8m0 4v2h6v-2H8z"/></svg>

    </a>
    Trebla Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/qwewqa/trebla/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Guides
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Guides" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/server-setup/" title="Server Setup" class="md-nav__link">
      Server Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Quick Reference
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Quick Reference" class="md-nav__link md-nav__link--active">
      Quick Reference
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    Project Setup
  </a>
  
    <nav class="md-nav" aria-label="Project Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    Project structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-concepts" class="md-nav__link">
    General Concepts
  </a>
  
    <nav class="md-nav" aria-label="General Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    Scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    Comments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
    <nav class="md-nav" aria-label="Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normal-variables" class="md-nav__link">
    Normal Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-level-variables" class="md-nav__link">
    Top level variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-member-variables-variables" class="md-nav__link">
    Script member variables variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#let-declarations" class="md-nav__link">
    Let declarations
  </a>
  
    <nav class="md-nav" aria-label="Let declarations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#differences-between-let-and-var" class="md-nav__link">
    Differences between let and var
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-flow" class="md-nav__link">
    Control Flow
  </a>
  
    <nav class="md-nav" aria-label="Control Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-statement" class="md-nav__link">
    If statement
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-declarations" class="md-nav__link">
    Function declarations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiver-functions" class="md-nav__link">
    Receiver Functions
  </a>
  
    <nav class="md-nav" aria-label="Receiver Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-modifiers" class="md-nav__link">
    Function modifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-operators" class="md-nav__link">
    Boolean Operators
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#struct-declarations" class="md-nav__link">
    Struct declarations
  </a>
  
    <nav class="md-nav" aria-label="Struct declarations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raw-structs" class="md-nav__link">
    Raw Structs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-declarations" class="md-nav__link">
    Script declarations
  </a>
  
    <nav class="md-nav" aria-label="Script declarations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    Project Setup
  </a>
  
    <nav class="md-nav" aria-label="Project Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    Project structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-concepts" class="md-nav__link">
    General Concepts
  </a>
  
    <nav class="md-nav" aria-label="General Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    Scope
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    Comments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
    <nav class="md-nav" aria-label="Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normal-variables" class="md-nav__link">
    Normal Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-level-variables" class="md-nav__link">
    Top level variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-member-variables-variables" class="md-nav__link">
    Script member variables variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#let-declarations" class="md-nav__link">
    Let declarations
  </a>
  
    <nav class="md-nav" aria-label="Let declarations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#differences-between-let-and-var" class="md-nav__link">
    Differences between let and var
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-flow" class="md-nav__link">
    Control Flow
  </a>
  
    <nav class="md-nav" aria-label="Control Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-statement" class="md-nav__link">
    If statement
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-declarations" class="md-nav__link">
    Function declarations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiver-functions" class="md-nav__link">
    Receiver Functions
  </a>
  
    <nav class="md-nav" aria-label="Receiver Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-modifiers" class="md-nav__link">
    Function modifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-operators" class="md-nav__link">
    Boolean Operators
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#struct-declarations" class="md-nav__link">
    Struct declarations
  </a>
  
    <nav class="md-nav" aria-label="Struct declarations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raw-structs" class="md-nav__link">
    Raw Structs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-declarations" class="md-nav__link">
    Script declarations
  </a>
  
    <nav class="md-nav" aria-label="Script declarations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    Callbacks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/qwewqa/trebla/edit/master/docs/resources/quick-reference.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="quick-reference">Quick Reference</h1>
<p>This reference details the main features of Trebla and
assumes some existing programming experience as well of knowledge of the Sonolus <a href="https://github.com/NonSpicyBurrito/sonolus-wiki/wiki">docs</a>.</p>
<p>Note that this is a new language, and features may be added, removed, or changed frequently.</p>
<p>Bugs may be reported at <a href="https://github.com/qwewqa/trebla/issues">https://github.com/qwewqa/trebla/issues</a>.</p>
<h2 id="setup">Setup</h2>
<ol>
<li>Go to <a href="https://github.com/qwewqa/trebla/releases">https://github.com/qwewqa/trebla/releases</a> and download an image file
for the respective operating system.</li>
<li>Extract the archive and add the bin directory to the PATH if desired.</li>
</ol>
<h2 id="project-setup">Project Setup</h2>
<h3 id="commands">Commands</h3>
<p>Initializing an empty project in the provided folder.
<div class="highlight"><pre><span></span><code>$ trebla init <span class="o">[</span>PATH<span class="o">]</span>
</code></pre></div>
Building the engine in the provided project folder.
<div class="highlight"><pre><span></span><code>$ trebla build <span class="o">[</span>PATH<span class="o">]</span>
</code></pre></div>
Building levels in the provided project folder.
<div class="highlight"><pre><span></span><code>$ trebla levels <span class="o">[</span>PATH<span class="o">]</span>
</code></pre></div>
Building the engine and levels in the provided project folder.
<div class="highlight"><pre><span></span><code>$ trebla compileAll <span class="o">[</span>PATH<span class="o">]</span>
</code></pre></div></p>
<h3 id="project-structure">Project structure</h3>
<p>Within a project directory there is a treblaproj.yaml file.
This specifies the level, source, and output directories, as well as
buckets and options as defined by Sonolus.</p>
<p>The source directory includes Trebla files, with the .trb extension.
The contents of these files are detailed in the following sections.</p>
<p>The level directory includes Level files with the .tlv extension.
These files are formatted as follows.
<div class="highlight"><pre><span></span><code>// Specifies an entity with provided archetype and data values.
Archetype(argName1 = value1, argName2 = value2, ...)

// Specifies an entity with provided archetype and data values.
// Additionally, `name` may be used to refer to the index of this entity.
name = Archetype(argName1 = value1, argName2 = value2, ...)

// Overrides the previous value of `name`
name = Archetype(argName1 = value1, argName2 = value2, ...)
</code></pre></div></p>
<h2 id="general-concepts">General Concepts</h2>
<h3 id="scope">Scope</h3>
<p>Declarations in Trebla all belong in some scope. This might be the package,
at the top level, or within a script or function. They are accessible from
the scope that they are contained in, or within scopes that are children of that scope.</p>
<p>No two declarations can share the same name (identifier) in the same scope.
Different declarations may have the same name if they have different signatures.
Three types of signatures exist.
- The default signature that most declarations have.
- The receiver signature that functions with receivers (methods) have
- The archetype receiver, only used by archetypes.</p>
<p>Importing a package brings all the declarations in that package into
the scope of the importing file. This does not impact other files
declared with the same package nor the contents of the package when imported by another file. </p>
<h3 id="values">Values</h3>
<p>Anything that is interacted with in code has a value.
This includes functions, struct declarations, literals, variables,
scripts, and more.</p>
<h2 id="comments">Comments</h2>
<p>Comments start with <code>//</code> and last until the end of a line, or
are wrapped in a starting <code>/*</code> and a closing <code>*/</code>.
<div class="highlight"><pre><span></span><code>// Line comment
struct Foo(x: Number) // End of line comment.

/*
Block Comments
Something
End of Comment
*/

func bar() { /* Another Comment */ }
</code></pre></div></p>
<h2 id="variables">Variables</h2>
<p>Variables, also known as properties, are declared using the <code>var</code> keyword.
Regardless of the type of variable, a variable will always take up actual memory
in the relevant <a href="https://github.com/NonSpicyBurrito/sonolus-wiki/wiki/Blocks">block</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are cases where an unnecessary allocation may be optimized out,
but this case happens transparently and only for temporary variables. </p>
</div>
<h3 id="normal-variables">Normal Variables</h3>
<p>Normal variables are declared directly within scripts without any additional modifiers,
where they will be members of the script and will be accessible from callbacks
within the script.
They may also be declared as temporary variables within functions,
where they are limited to the local scope.
Temporary variables require an initializer expression and optionally take a type.
Script member variables optionally have an initializer expression and optionally take a type.
<div class="highlight"><pre><span></span><code>script Script {
    var a = 1
    var b: Boolean = true
}

func Run {
    var a = 1
    var b: Boolean = true
}
</code></pre></div></p>
<h3 id="top-level-variables">Top level variables</h3>
<p>Top level variables are declared with the <code>level</code> or <code>temp</code> modifiers.
They exist in the corresponding blocks in Sonolus, and may be accessed from different scripts.
Top level variables do not take an initializer and are required to have a type.</p>
<dl>
<dt><code>level</code></dt>
<dd>Located in level memory. Accessible from all callbacks and writable in <code>updateSequential</code> and <code>touch</code>.
Does not take an initializer and requires a type.</dd>
<dt><code>temp</code></dt>
<dd>Located in temporary memory. Accessible only from the <code>touch</code> callback.
Does not take an initializer and requires a type.</dd>
</dl>
<div class="highlight"><pre><span></span><code>level var a: Number
temp var b: Boolean
</code></pre></div>

<h3 id="script-member-variables-variables">Script member variables variables</h3>
<p>In addition to the normal variable, script member variables may be declared with the
<code>spawn</code>, <code>data</code>, or <code>shared</code> modifiers. Like top level variables,
they require a type and do not take an initializer.</p>
<dl>
<dt><code>spawn</code></dt>
<dd>Located in entity memory. May be initialized if spawned by another entity. 
Does not take an initializer and requires a type.</dd>
<dt><code>data</code></dt>
<dd>Located in entity data. Accessible from all callbacks, but not writable from any. 
Initialized via entities in a level and archetypes.
Does not take an initializer and requires a raw type (Boolean or Number).</dd>
<dt><code>shared</code></dt>
<dd>Located in entity shared memory. Accessible from all callbacks and writable in <code>updateSequential</code> and <code>touch</code>.
Does not take an initializer and requires a type.</dd>
</dl>
<div class="highlight"><pre><span></span><code>script Script {
    spawn var a: Number
    data var b: Boolean
    shared var c: Point
}
</code></pre></div>

<h2 id="let-declarations">Let declarations</h2>
<p>Let declarations bind their name to the resulting value from the expression to the right.
Like normal variables, they may optionally take a type.
Let declarations never take up any memory themselves, but their expression may itself
include the use of temporary variables.
Let declarations can be located in most places including the top level, scripts, functions, and callbacks.
<div class="highlight"><pre><span></span><code>let a = 1
let b: Number = a
</code></pre></div></p>
<h3 id="differences-between-let-and-var">Differences between let and var</h3>
<p>The following examples detail some of the differences between let and var.
Assume that the examples takes place in the body of a function or callback.
<div class="highlight"><pre><span></span><code>// a copies the value of 1.
var a = 1
// b has a value of 1.
let b = 1

// changes the value of varA to 2.
a = 2
// ERROR: b has a value of 1, an integer literal, which is immutable.
b = 2
</code></pre></div></p>
<div class="highlight"><pre><span></span><code>// a copies the value of 1.
var a = 1
// b has the value of a.
let b = a
// c copies the value of a.
var c = a

// a and b both evaluate to 2. c still evaluates to 1.
a = 2
// a and b both evaluate to 3. c still evaluates to 1.
b = 3
// a and b both still evaluate to 3. c now evaluates to 4.
c = 4
</code></pre></div>

<h2 id="control-flow">Control Flow</h2>
<h3 id="if-statement">If statement</h3>
<p>Trebla has if-else statements for control flow.
<div class="highlight"><pre><span></span><code>if (condition) {
    // true branch
} else {
    // false branch
}

if (condition) {
    // true branch
}
</code></pre></div></p>
<h2 id="function-declarations">Function declarations</h2>
<p>Functions are declared with the <code>func</code> keyword.
They may include calls to other functions, but calls to themselves,
directly or within another function, are not supported.
Functions can be declared in most places including the top level, scripts, other functions, and callbacks.
<div class="highlight"><pre><span></span><code>// A function that takes two Number parameters and returns a Number.
func sum(a: Number, b: Number): Number {
    a + b
}

// A function with an impicit Any return type and an expression body.
func sum2(a: Number, b: Number) = a + b

// A function which has two parameters of any type and returns any type.
func sum3(a, b): Any {
    b
}

// A function that returns no meaningful value.
fun run(): Unit {
    Clip(0).play()
}

// A function that returns no meaninful value with an omitted Unit return type.
fun run2() {
    Clip(0).play()
}

// A call to the sum function.
sum(1, 2)

// A call to the sum function with named parameters.
sum(b = 2, a = 1)
</code></pre></div>
A function may also have default parameters.
<div class="highlight"><pre><span></span><code>func sum(a = 0, b = 1) = a + b

sum() == sum(0, 1) // true
sum(b = 3) == sum(0, 3) // true
</code></pre></div></p>
<h2 id="receiver-functions">Receiver Functions</h2>
<p>Receiver functions, also known as methods, are a special type of function.
<div class="highlight"><pre><span></span><code>// Declares a function named translate with
// a receiver type of Point named this, as well as two normal number parameters.
func (this: Point).translate(x: Number, y: Number) {
    this.x += x
    this.y += y
}

func run() {
    var p = Point(1, 2)

    // Calls the method using the dot operator on a struct value.
    p.translate(5, 6)

    // Refernces the raw function using the dot on a struct declaration.
    let translatePoint = Point.translate
    // Calls the method like a normal function
    translatePoint(p, 1, 5)
}
</code></pre></div>
The name of the receiver parameter may also be omitted, and will default to <code>this</code>
<div class="highlight"><pre><span></span><code>func Point.translate(x: Number, y: Number) {
    this.x += x
    this.y += y
}
</code></pre></div>
Multiple functions may have the same name if their receiver type is different.
Only struct receivers are allowed.</p>
<h3 id="function-modifiers">Function modifiers</h3>
<p>The <code>infix</code> modifier allows functions to be called as infix functions.
<div class="highlight"><pre><span></span><code>infix func Boolean.and(other: Boolean) = Boolean(builtins.And(this, other))

func run() {
    var x = true and false // false
}
</code></pre></div>
The <code>operator</code> modifier allows certain named functions to be used as modifiers.
<div class="highlight"><pre><span></span><code>operator func Number.plus(other: Number) = Number(builtins.Add(this, other))

func run() {
    var x = 1 + 2
}
</code></pre></div></p>
<h3 id="boolean-operators">Boolean Operators</h3>
<p>The boolean <code>||</code> (or) and <code>&amp;&amp;</code> (and) operators are not overloadable.
These are special operators, which short circuit.
Instead of overriding these operators, the reccomendation is
to use infix functions named <code>or</code> and <code>and</code>.
<div class="highlight"><pre><span></span><code>func play() {
    Clip(0).play()
}

func run() {
    // Play is never called in either of these cases.
    false &amp;&amp; play()
    true || play()
}
</code></pre></div></p>
<div class="tabbed-set" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Prefix</label><div class="tabbed-content">
<table>
<thead>
<tr>
<th>operator</th>
<th>function</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>unaryPlus</td>
</tr>
<tr>
<td>-</td>
<td>unaryMinus</td>
</tr>
<tr>
<td>!</td>
<td>not</td>
</tr>
<tr>
<td>++</td>
<td>preIncrement</td>
</tr>
<tr>
<td>--</td>
<td>preDecrement</td>
</tr>
</tbody>
</table>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Postfix</label><div class="tabbed-content">
<table>
<thead>
<tr>
<th>operator</th>
<th>function</th>
</tr>
</thead>
<tbody>
<tr>
<td>++</td>
<td>postIncrement</td>
</tr>
<tr>
<td>--</td>
<td>postDecrement</td>
</tr>
</tbody>
</table>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">Infix</label><div class="tabbed-content">
<table>
<thead>
<tr>
<th>operator</th>
<th>function</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>plus</td>
</tr>
<tr>
<td>-</td>
<td>minus</td>
</tr>
<tr>
<td>*</td>
<td>times</td>
</tr>
<tr>
<td>/</td>
<td>div</td>
</tr>
<tr>
<td>%</td>
<td>mod</td>
</tr>
<tr>
<td>**</td>
<td>pow</td>
</tr>
<tr>
<td>+=</td>
<td>plusAssign</td>
</tr>
<tr>
<td>-=</td>
<td>minusAssign</td>
</tr>
<tr>
<td>*=</td>
<td>timesAssign</td>
</tr>
<tr>
<td>/=</td>
<td>divAssign</td>
</tr>
<tr>
<td>%=</td>
<td>modAssign</td>
</tr>
<tr>
<td>**=</td>
<td>powAssign</td>
</tr>
<tr>
<td>==</td>
<td>equals</td>
</tr>
<tr>
<td>!=</td>
<td>notEquals</td>
</tr>
<tr>
<td>&gt;</td>
<td>greater</td>
</tr>
<tr>
<td>&lt;</td>
<td>less</td>
</tr>
<tr>
<td>&gt;=</td>
<td>greaterOr</td>
</tr>
<tr>
<td>&lt;=</td>
<td>lessOr</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2 id="struct-declarations">Struct declarations</h2>
<p>Structs are collections of values. 
Struct declarations can be used as types, and they can
be called like functions.
<div class="highlight"><pre><span></span><code>// Declares a struct named Point, which contains two fields (values),
// which are named x and y
struct Point(x: Number, y: Number)

func run() {
    // Binds Point(1, 2) as the value of p1
    let p1 = Point(1, 2)
    // Copies the value of the point as p2
    var p2 = Point(x = 1, y = 5)
    // Changes the value of x in p2
    p2.x = 5
}
</code></pre></div>
Structs usually contain other structs, but may sometimes contain other values.
This will limit where they can be used however.
<div class="highlight"><pre><span></span><code>struct Foo(num: Number, fun: Function)

func bar1() { /* does nothing and returns Unit */ }

func bar2() { }

func run() {
    var x = Foo(1, bar1)

    // Allowed. Numbers in variables are mutable.
    x.num = 2
    // Allowed, but does nothing. Functions are the same.
    x.fun = bar1 
    // ERROR: Functions are not mutable.
    x.fun = bar2 

    // Allowed.
    x = Foo(2, bar1)
    // ERROR: Functions are not mutable.
    x = Foo(2, bar2)
}

// ERROR: Function is not allocatable.
level var x: Foo
</code></pre></div></p>
<h3 id="raw-structs">Raw Structs</h3>
<p>Raw structs have the <code>raw</code> modifier.
They have no declared fields, and are backed by either a literal value,
a call to a builtin Sonolus function, or a location in memory.
There are three raw structs in the standard library, and it 
generally is unnecessary to declare more.
A struct is allocatable if it only has fields that are typed as raw structs or other allocatable structs.
Variables that don't take an initializer must be annotated with an allocatable struct type.
<div class="highlight"><pre><span></span><code>// Default for integer and float literals.
raw struct Number

// Default for boolean literals.
raw struct Boolean

// Default in other cases
raw struct Raw
</code></pre></div></p>
<h2 id="script-declarations">Script declarations</h2>
<p>Scripts are declared with the <code>script</code> keyword.
<div class="highlight"><pre><span></span><code>script Note {
    /* Script Members */
}
</code></pre></div></p>
<h3 id="callbacks">Callbacks</h3>
<p>Scripts contain callbacks, which correspond to callbacks in Sonolus.
<div class="highlight"><pre><span></span><code>script Note {
    callback updateParallel {
        /* Callback body */
    }
}
</code></pre></div>
The initialize callback in Sonolus is not declared explicitly.
Instead, it is described inline with <code>init</code> blocks.
<div class="highlight"><pre><span></span><code>script Note {
    data var large: Boolean
    var width: Number
    init {
        if (large) {
            width = 0.8
        } else {
            width = 0.4
        }
    }
    var height = width / 2
}
</code></pre></div></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../guides/server-setup/" title="Server Setup" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Server Setup
              </div>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>